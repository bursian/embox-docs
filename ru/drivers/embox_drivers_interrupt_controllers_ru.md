
### Контроллеры прерываний
Контроолеры прерываний обеспечивают управление (разрешение, запрещение, очистка) внешними прерываниями в системе. Также могут реализовывать дополнительные функции например (получение текущего номера или установка приоритета прерывания). Работа драйверов контроллеров прерываний тесно связана с архитектурным кодом таблицы прерываний и обработки исключительных ситуаций.

#### Реализация
Устройство реализующее контроллер прерываний должно быть одно в системе.

Модуль драйвера контроллера прерываний должен наследоваться от `embox.driver.interrupt.irqctrl_api`
```
module cortexm_nvic extends embox.driver.interrupt.irqctrl_api {
,,,
}
```
В коде драйвера должна быть декларация контроллера прерываний с названием контроллера и функцией инициализации

```
static int nvic_init(void) {
	...
}
...
IRQCTRL_DEF(cortexm_nvic, nvic_init);
```

Функция инициализации вызывается до вызова функций инициализации модулей из архитектурно специфичной инициализации (функция kernel_init())

Основными для драйвера контроллера прерываний является реализация двух функций (разрешение и запрещение прерывания по его номеру в системе)
```
extern void irqctrl_enable(unsigned int nr);

extern void irqctrl_disable(unsigned int nr);
```

Драйвер контроллера прерываний также может реализовывать другие функции необходимые для обеспечения работы прерываний для данной платформы

